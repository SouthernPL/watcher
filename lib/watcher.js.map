{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c2cde3ffadb29d8391d2","webpack:///./src/dom.js","webpack:///./src/index.js","webpack:///./src/watcher.js","webpack:///./src/emit.js","webpack:///./src/utils.js"],"names":["getScrollParent","regex","scroll","style","parent","getParent","node","getComputedStyle","parentNode","e","some","item","test","getPropertyValue","getOffset","r1","r2","w","Math","min","right","max","left","h","bottom","top","width","height","getScrollParentItera","el","callback","rsts","nodes","cur","rst","curnodes","shift","call","push","parents","group","interval","list","throttle","fn","ban","setTimeout","apply","slice","check","forEach","selector","emit","listens","addEventListener","event","def","wrapper","proportion","dir","size","select","ratio","offset","threshold","direction","inview","axis","coordinate","scrollOffset","scrollLength","length","start","end","side","watcher","options","index","indexOf","elements","document","querySelectorAll","Object","assign","init","current","views","isHozi","isEnd","html","querySelector","preCalculate","onEvent","self","history","on","type","getParentItera","element","passed","inView","enter","exit","sortBy","map","o","isNum","n","dim","d","idx","p","k","vw","window","innerWidth","vh","innerHeight","vs","vp","time","scrollTo","one","isScrollTo","rect","getBoundingClientRect","rect2","getOffsetRect","getScroll","dist","distance","t","timer","step","i","quad","easeInOut","begin","arr","sort","a","b","x","y","getDir","getWight","rawSize","raw","setInterval","iv","_events","once","argus","arguments","remove","types","split","cb","splice","itera","first","para","RAF","requestAnimationFrame","tween","linear","c","easeIn","easeOut"],"mappings":"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","file":"watcher.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"watcher\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"watcher\"] = factory();\n\telse\n\t\troot[\"watcher\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c2cde3ffadb29d8391d2","let getScrollParent = (() => {\n  const regex = /(auto|scroll)/;\n  const scroll = [\"overflow\", \"overflow-x\", \"overflow-y\"];\n\n  let style, parent;\n\n  return function getParent(node) {\n    try {\n      style = getComputedStyle((parent = node.parentNode), null);\n    } catch (e) {\n      return null;\n    }\n\n    if (\n      scroll.some(function(item) {\n        return regex.test(style.getPropertyValue(item));\n      })\n    ) {\n      return parent;\n    }\n\n    return getParent(parent);\n  };\n})();\n\nlet getOffset = function(r1, r2) {\n  const w = Math.min(r1.right, r2.right) - Math.max(r1.left, r2.left);\n  const h = Math.min(r1.bottom, r2.bottom) - Math.max(r1.top, r2.top);\n\n  return w > 0 && h > 0 ? ((r1.width = w), (r1.height = h), r1) : 0;\n};\n\nlet getScrollParentItera = (el, callback) => {\n  let rsts = [],\n    nodes = [getScrollParent(el)],\n    parent,\n    cur,\n    rst;\n\n  while ((cur = curnodes.shift())) {\n    parent = getScrollParent(cur);\n\n    rst = callback.call(null, cur, parent);\n\n    if (!rst) {\n      return rsts;\n    }\n\n    rsts.push(rst);\n    nodes.push(parents);\n  }\n\n  return rst;\n};\n\nexport { getScrollParent, getOffset };\n\n\n\n// WEBPACK FOOTER //\n// ./src/dom.js","import watcher from './watcher';\n\nexport default watcher;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import emit from \"./emit\";\nimport { getOffset, getScrollParent } from \"./dom\";\nimport { RAF, tween } from \"./utils\";\n\nconst group = { interval: 1000 / 60, list: [] };\n\nconst throttle = function(fn) {\n  let ban = false;\n\n  return function() {\n    if (ban) return;\n    ban = true;\n\n    setTimeout(() => {\n      fn.apply(null, [].slice.call(arguments));\n      ban = false;\n    }, group.interval);\n  };\n};\n\nconst check = throttle(e => {\n  group.list.forEach(selector => {\n    group[selector].emit(\"re\", e);\n  });\n});\n\nconst listens = [\"scroll\", \"resize\", \"load\"];\nlistens.forEach(event => {\n  addEventListener(event, check);\n});\n\nconst def = {\n  wrapper: \"html\",\n  proportion: { dir: 1, size: 1, select: 1, ratio: 1 },\n  offset: { top: 0, right: 0, bottom: 0, left: 0 },\n  threshold: 0,\n  direction: 0,\n\n  test: function(inview) {\n    return inview;\n  }\n};\n\nconst axis = {\n  coordinate: [0, 0],\n  offset: [\"offsetTop\", \"offsetLeft\"],\n  scrollOffset: [\"scrollTop\", \"scrollLeft\"],\n  scrollLength: [\"scrollHeight\", \"scrollWidth\"],\n  direction: [\"top\", \"right\", \"bottom\", \"left\"],\n  length: [\"vh\", \"vw\"],\n  start: [\"top\", \"left\"],\n  end: [\"bottom\", \"right\"],\n  side: [\"height\", \"width\"]\n};\n\nclass watcher extends emit {\n  constructor(selector, options) {\n    super();\n\n    if (typeof selector !== \"string\") return;\n\n    let index = group.list.indexOf(selector);\n    if (~index) return group[group.list[index]];\n\n    group.list.push(selector);\n    group[selector] = this;\n\n    this.elements = [].slice.call(document.querySelectorAll(selector));\n    this.options = Object.assign(def, options || {});\n\n    this.init();\n  }\n\n  init() {\n    this.current = [];\n    this.views = [];\n\n    this.offset();\n    this.threshold();\n    this.direction();\n    this.proportion();\n\n    this.isHozi = this.options.direction % 2;\n    this.isEnd = this.options.direction % 3;\n\n    this.html = document.querySelector(\"html\");\n\n    this.preCalculate();\n    this.onEvent();\n  }\n\n  onEvent() {\n    let self = this,\n      history = [];\n\n    this.on(\"re\", e => {\n      if (e.type !== \"scroll\") {\n        this.preCalculate();\n      }\n\n      this.check();\n    });\n\n    this.elements.forEach(element => {\n      this.getParentItera((el, parent) => {\n        if (!parent) return false;\n\n        if (!~history.indexOf(parent)) {\n          history.push(parent);\n          parent.addEventListener(\"scroll\", e => {\n            self.check();\n          });\n        }\n      }, element);\n    });\n  }\n\n  check() {\n    this.views = [];\n\n    this.elements.forEach(el => {\n      let passed = this.inView(el),\n        index = this.current.indexOf(el),\n        enter = passed && !~index,\n        exit = !passed && ~index;\n\n      if (passed) this.views.push(passed);\n      if (enter) this.emit(\"change enter\", el);\n      if (exit) this.emit(\"change exit\", el);\n    });\n\n    this.sortBy(this.views);\n\n    this.current = this.views.map(o => o.element);\n    this.emit(\"check\", this.current[0], this.current, this.views);\n    this.current.length\n      ? this.emit(\"has\", this.current[0], this.current, this.views)\n      : this.emit(\"none\");\n  }\n\n  offset() {\n    let o = this.options.offset;\n    let offset = {};\n    const isNum = n => typeof n === \"number\";\n    [\"top\", \"right\", \"bottom\", \"left\"].forEach(\n      isNum(o)\n        ? dim => (offset[dim] = o)\n        : dim => (offset[dim] = isNum(o[dim]) ? o[dim] : null)\n    );\n    this.options.offset = offset;\n  }\n\n  threshold() {\n    let n = this.options.threshold;\n    this.options.threshold =\n      typeof n === \"number\" && n >= 0 && n <= 1 ? n : null;\n  }\n\n  direction() {\n    let d = this.options.direction;\n    let idx;\n    this.options.direction =\n      typeof d === \"number\"\n        ? d\n        : ~(idx = axis.direction.indexOf[d]) ? idx : null;\n  }\n\n  proportion() {\n    let p = this.options.proportion;\n\n    for (let k in p) {\n      this.options.proportion[k] = typeof p[k] === \"number\" ? p[k] : null;\n    }\n  }\n\n  preCalculate() {\n    this.vw = window.innerWidth;\n    this.vh = window.innerHeight;\n    this.vs = this.vw * this.vh;\n\n    this.vp = {\n      top: 0,\n      right: this.vw,\n      bottom: this.vh,\n      left: 0,\n      width: this.vw,\n      height: this.vh\n    };\n  }\n\n  getParentItera(fn, el) {\n    let parent, rst;\n\n    do {\n      parent = getScrollParent(el);\n      rst = fn(el, parent);\n      el = parent;\n    } while (parent && rst !== false);\n  }\n\n  scroll(element, time) {\n    this.select = element;\n    this.scrollTo(element, time);\n\n    this.one(\"exit\", el => {\n      if (this.select !== el) return false;\n      this.select = null;\n      return true;\n    });\n  }\n\n  scrollTo(element, time) {\n    this.isScrollTo = true;\n\n    const end = () => {\n      this.isScrollTo = true;\n      this.check();\n    };\n\n    let history = [],\n      parent = null,\n      rect = element.getBoundingClientRect(),\n      rect2,\n      scroll,\n      self = this;\n\n    this.getParentItera((el, parent) => {\n      if (!parent) {\n        rect2 = self.getOffsetRect(rect, self.vp);\n        scroll = self.getScroll(rect, rect2, self.html);\n        history.push(scroll);\n        return false;\n      }\n\n      rect2 = parent.getBoundingClientRect();\n      scroll = self.getScroll(rect, rect2, parent);\n\n      rect = {\n        top: scroll.offset[1],\n        left: scroll.offset[0],\n        width: rect.width,\n        height: rect.height\n      };\n\n      history.push(scroll);\n    }, element);\n\n    history.forEach(scroll => {\n      let wrapper = scroll.element,\n        dist = scroll.dist,\n        start = scroll.start,\n        distance = scroll.distance,\n        max = scroll.max;\n\n      if (!time) {\n        wrapper.scroll(dist[0], dist[1]);\n        return end();\n      }\n\n      [0, 1].forEach(i => {\n        let t = 0,\n          timer;\n\n        timer = RAF(function step() {\n          wrapper[axis.scrollOffset[i]] = tween.quad.easeInOut(\n            t,\n            start[1 - i],\n            distance[1 - i],\n            time\n          );\n          t += 1000 / 60;\n\n          if (\n            t >= time ||\n            (dist[1 - i] <= 0 && start[1 - i] <= 0) ||\n            (dist[1 - i] >= max[1 - i] && start[1 - i] >= max[1 - i])\n          )\n            return end();\n          timer = RAF(step);\n        });\n      });\n    });\n  }\n\n  getScroll(rect, rect2, element) {\n    let start = [],\n      dist = [],\n      max = [],\n      distance = [],\n      offset = [],\n      scrollLength,\n      scrollOffset,\n      top,\n      begin,\n      side;\n\n    [0, 1].forEach(i => {\n      begin = axis.start[1 - i];\n      side = axis.side[1 - i];\n      scrollLength = element[axis.scrollLength[1 - i]];\n      scrollOffset = element[axis.scrollOffset[1 - i]];\n      top = this.isEnd ? rect2[side] - rect[side] : 0;\n\n      start[i] = scrollOffset;\n      offset[i] = rect2[begin] + top;\n      distance[i] = rect[begin] - offset[i];\n      dist[i] = scrollOffset + distance[i];\n      max[i] = scrollLength - rect2[side];\n\n      if (dist[i] > max[i]) {\n        distance[i] -= dist[i] - max[i];\n        dist[i] = max[i];\n        offset[i] += dist[i] - max[i];\n      }\n    });\n\n    return {\n      dist,\n      offset,\n      start,\n      distance,\n      max,\n      element\n    };\n  }\n\n  getOffsetRect(rect, rect2) {\n    const threshold = {\n      width: this.options.threshold * rect.width,\n      height: this.options.threshold * rect.height\n    };\n\n    const offset = {\n      top: this.options.offset.top + threshold.height,\n      right: this.options.offset.right + threshold.width,\n      bottom: this.options.offset.bottom + threshold.height,\n      left: this.options.offset.left + threshold.width\n    };\n\n    let rst = Object.assign({}, rect2);\n    for (let k in offset) {\n      rst[k] += offset[k];\n    }\n    return rst;\n  }\n\n  sortBy(arr) {\n    let proportion = this.options.proportion;\n\n    return arr.sort((a, b) => {\n      let x = this.isHozi,\n        y = this.isEnd;\n\n      const getDir = o => {\n        let dir = !y ? this[axis.length[x]] - o[axis.start[x]] : o[axis.end[x]];\n\n        return dir / this[axis.length[x]];\n      };\n\n      const getWight = o => {\n        let select = o.element === this.select ? proportion.select : 0;\n\n        return (\n          getDir(o) * proportion.dir +\n          o.size / this.vs * proportion.size +\n          o.size / o.rawSize * proportion.ratio +\n          select\n        );\n      };\n\n      if (getWight(a) > getWight(b)) {\n        return -1;\n      }\n      return 1;\n    });\n  }\n\n  inView(element) {\n    let parent,\n      rect = element.getBoundingClientRect(),\n      rect2,\n      self = this;\n\n    this.getParentItera(el => {\n      if (!parent) {\n        rect2 = self.getOffsetRect(rect, self.vp);\n        rect = getOffset(rect, rect2);\n        return false;\n      }\n\n      rect2 = parent.getBoundingClientRect();\n      rect = getOffset(rect, rect2);\n      return rect;\n    }, element);\n\n    if (rect) {\n      let raw = element.getBoundingClientRect();\n      rect.rawSize = raw.width * raw.height;\n      rect.size = rect.width * rect.height;\n      rect.element = element;\n    }\n\n    return rect;\n  }\n}\n\nwatcher.setInterval = iv => {\n  group.interval = iv;\n};\n\nexport default (selector, options) => {\n  return new watcher(selector, options);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/watcher.js","class emit {\n  constructor() {\n    this._events = {};\n  }\n\n  on(type, callback) {\n    if (!this._events[type]) {\n      this._events[type] = [];\n    }\n\n    this._events[type].push(callback);\n    return this;\n  }\n\n  one(type, callback) {\n    if (!this._events[type]) {\n      this._events[type] = [];\n    }\n\n    let self = this;\n\n    let once = function() {\n      let argus = [].slice.call(arguments);\n\n      if (callback.apply(self, argus) === true) {\n        self.remove(type, once);\n      }\n    };\n    this.on(type, once);\n    return this;\n  }\n\n  emit(type) {\n    let types = type.split(\" \"),\n      argus = [].slice.call(arguments, 1);\n\n    types.forEach(type => {\n      if (!this._events[type]) {\n        return;\n      }\n\n      this._events[type].forEach(callback => {\n        callback.apply(this, argus);\n      });\n    });\n  }\n\n  remove(type, callback) {\n    if (!this._events[type]) {\n      return;\n    }\n\n    this._events[type].forEach((cb, i) => {\n      if (callback === cb) {\n        this._events[type].splice(i, 1);\n        return false;\n      }\n    });\n  }\n}\n\nexport default emit;\n\n\n\n// WEBPACK FOOTER //\n// ./src/emit.js","import { getScrollParent } from \"./dom\";\n\nexport let itera = (fn, first) => {\n  let itera = para => {\n    let rst = fn(para);\n\n    if (rst !== false) {\n      return itera(rst);\n    }\n    return false;\n  };\n  return itera(first);\n};\n\nexport let RAF =\n  window.requestAnimationFrame ||\n  function(fn) {\n    setTimeout(fn, 1000 / 60);\n  };\n\nexport let tween = {\n  linear(t, b, c, d) {\n    return t / d * c + b;\n  },\n\n  quad: {\n    easeIn(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    easeOut(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t + b;\n      return -c / 2 * (--t * (t - 2) - 1) + b;\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"],"sourceRoot":""}